
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS" />
    <meta name="author" content ="John DeNero" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../../assets/js/hl.js"></script>
    <script src="../../assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="../../assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/mono-blue.css">
    <link rel="icon" href="../../assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="../../assets/css/lab.css">


    <title>
Lab 6 Solutions | CS 61A Spring 2024
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="../../assets/images/logo.png"/>
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="../../index.html">Home</a></li>
            <li><a href="../../articles/about.html">Syllabus</a></li>
            <li><a href="https://edstem.org/us/courses/52971/discussion/" target="_blank">Ed</a></li>
            <li><a href="../../office-hours.html">Office Hours</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="../../staff.html">TAs & Tutors</a></li>
                <li><a href="../../academic-interns.html">Academic Interns</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://sections.cs61a.org">Section Selector</a></li>
                <li><a href="https://oh.cs61a.org">Office Hours Queue</a></li>
                <li><a href="https://go.cs61a.org/extensions">Request an Extension</a></li>
                <li><a href="https://go.cs61a.org/regrades">Request a Regrade</a></li>
                <li><a href="../../resources.html">Past Exams & Sites</a></li>
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                <li><a href="https://code.cs61a.org/">Online Code Editor</a></li>
                <li><a href="../../articles/campus-res/index.html">Department/Campus Resources</a></li>
                <li><a href="../../articles/advice/index.html">Advice from Former Students</a></li>
              </ul>
            </li>
            <li><a href="../../contact/index.html">Contact</a></li>
            <li>
              <label class="switch">
                <input type="checkbox" id="toggle-mode-cb">
                <span class="slider round"></span>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Lab 6 Solutions

        
        
        <ul class="inline-block list-inline">
          <li><a href="lab06.zip" class="label label-outline">lab06.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    
<h2>Solution Files</h2>


    
<h1 id="required-questions">Required Questions</h1>



        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Getting Started Videos<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">


<h2 id="getting-started-videos" class="no-toc">Getting Started Videos</h2>


<p>These videos may provide some helpful direction for tackling the coding problems on this assignment.</p>

<blockquote><p>To see these videos, you should be logged into your berkeley.edu email.</p></blockquote>


            <iframe width="560" height="315" src="https://youtube.com/embed/videoseries?list=PLx38hZJ5RLZcmlFtWRxO3ZvQyTRiyDZ6s"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe><p><a href='https://youtu.be/playlist?list=PLx38hZJ5RLZcmlFtWRxO3ZvQyTRiyDZ6s'> YouTube link </a></p>
</div>


<h2 id="object-oriented-programming">Object-Oriented Programming</h2>


<p>Here's a refresher on Object-Oriented Programming. It's okay to skip directly to
the questions and refer back here if you get stuck.</p>


        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Object-Oriented Programming<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">

<p><strong>Object-oriented programming</strong> (OOP) is a method of organizing programs in terms of objects and classes.</p>

<p>Here's an example class:</p>

<pre><code>class Car:
    num_wheels = 4

    def __init__(self, color):
        self.wheels = Car.num_wheels
        self.color = color

    def drive(self):
        if self.wheels &lt;= Car.num_wheels:
            return self.color + &#x27; car cannot drive!&#x27;
        return self.color + &#x27; car goes vroom!&#x27;

    def pop_tire(self):
        if self.wheels &gt; 0:
            self.wheels &#x2d;= 1</code></pre>

<p>Here's some terminology:</p>

<ul>
  <li><strong>class</strong>: the type of an object, which describes the behavior of its
  instances. The <code>Car</code> class (shown above) describes the behavior that all <code>Car</code>
  objects have.</li>
  <li><p><strong>instance</strong>: the term "instance" means then same thing as "object"; every
  object is an instance of its class. In Python, new instances are created by
  calling a class.</p>

<pre><code>&gt;&gt;&gt; ferrari = Car(&#x27;red&#x27;)</code></pre>

  <p>Here, <code>ferrari</code> is a name bound to an instance of the <code>Car</code> class.</p></li>
  <li><p><strong>attribute</strong>: Objects have named attributes, such as <code>wheels</code> and <code>color</code> in
  this example. They can be accessed using dot expressions and changed using assignment.</p>

<pre><code>&gt;&gt;&gt; ferrari.color
&#x27;red&#x27;
&gt;&gt;&gt; ferrari.wheels
4
&gt;&gt;&gt; ferrari.color = &#x27;green&#x27;
&gt;&gt;&gt; ferrari.color
&#x27;green&#x27;</code></pre></li>
  <li><p><strong>method</strong>: Methods are functions that are attributes of a class and called
  using a dot expression. Methods often describe actions associated with an
  object, such as <code>drive</code> a car.</p>

<pre><code>&gt;&gt;&gt; ferrari = Car(&#x27;red&#x27;)
&gt;&gt;&gt; ferrari.drive()
&#x27;red car goes vroom!&#x27;</code></pre></li>
  <li><strong>The __init__ special method</strong>: The method called <code>__init__</code> is special
  because it is called automatically when a new instance of a class is created;
  it is where we initialize the instance attributes.
  The expression <code>Car(&#x27;red&#x27;)</code> calls the <code>__init__</code> method of the <code>Car</code> class.</li>
  <li><p><code>self</code>: in Python, <code>self</code> is the first parameter for methods When a method is
  called, <code>self</code> is automatically bound to an instance of the class that was
  used in the dot expression that called the method. For example, in:</p>

<pre><code>&gt;&gt;&gt; ferrari = Car(&#x27;red&#x27;)
&gt;&gt;&gt; ferrari.drive()</code></pre>

  <p>Notice how the <code>drive</code> method takes in <code>self</code> as an argument, but it
  looks like we didn't pass one in! This is because the dot notation
  <em>implicitly</em> passes in <code>ferrari</code> as <code>self</code> for us. So in this example, <code>self</code> is bound to the
  object called <code>ferrari</code> in the global frame.</p></li>
</ul>

</div>


<h3 id="q1-bank-account">Q1: Bank Account</h3>


<p>Extend the <code>Account</code> class from lecture so that each <code>Account</code> instance has a <code>transactions</code> attribute, 
which is a list of <code>Transaction</code> instances, one for every call made to <code>deposit</code> or <code>withdraw</code>.
A <code>Transaction</code> instance records the balance <code>before</code> and <code>after</code> each call to <code>deposit</code>
or <code>withdraw</code>. In addition, each <code>Transaction</code> is assigned an <code>id</code> attribute, which is the number of
previous calls to <code>deposit</code> or <code>withdraw</code> on that account. The <code>id</code> is only unique within the scope of each account, 
rather than being a universally unique identifier across all transactions.</p>

<p>A <code>Transaction</code> has two methods:</p>

<ul>
  <li><code>changed</code> returns <code>True</code> if the balance was different before and after the
  transaction and <code>False</code> otherwise.</li>
  <li><code>report</code> returns a string describing the transaction. It starts with the ID
  and then a message.</li>
</ul>

<solution>

<pre><code>class Transaction:
    def __init__(self, id, before, after):
        self.id = id
        self.before = before
        self.after = after

    def changed(self):
        &quot;&quot;&quot;Return whether the transaction resulted in a changed balance.&quot;&quot;&quot;
<div class="sol-highlight">        return self.before != self.after</div>
    def report(self):
        &quot;&quot;&quot;Return a string describing the transaction.

        &gt;&gt;&gt; Transaction(3, 20, 10).report()
        &#x27;3: decreased 20&#x2d;&gt;10&#x27;
        &gt;&gt;&gt; Transaction(4, 20, 50).report()
        &#x27;4: increased 20&#x2d;&gt;50&#x27;
        &gt;&gt;&gt; Transaction(5, 50, 50).report()
        &#x27;5: no change&#x27;
        &quot;&quot;&quot;
        msg = &#x27;no change&#x27;
        if self.changed():
<div class="sol-highlight">            if self.after &lt; self.before:
                verb = &#x27;decreased&#x27;
            else:
                verb = &#x27;increased&#x27;
            msg = verb + &#x27; &#x27; + str(self.before) + &#x27;&#x2d;&gt;&#x27; + str(self.after)</div>        return str(self.id) + &#x27;: &#x27; + msg

class Account:
    &quot;&quot;&quot;A bank account that tracks its transaction history.

    &gt;&gt;&gt; a = Account(&#x27;Eric&#x27;)
    &gt;&gt;&gt; a.deposit(100)    # Transaction 0 for a
    100
    &gt;&gt;&gt; b = Account(&#x27;Erica&#x27;)
    &gt;&gt;&gt; a.withdraw(30)    # Transaction 1 for a
    70
    &gt;&gt;&gt; a.deposit(10)     # Transaction 2 for a
    80
    &gt;&gt;&gt; b.deposit(50)     # Transaction 0 for b
    50
    &gt;&gt;&gt; b.withdraw(10)    # Transaction 1 for b
    40
    &gt;&gt;&gt; a.withdraw(100)   # Transaction 3 for a
    &#x27;Insufficient funds&#x27;
    &gt;&gt;&gt; len(a.transactions)
    4
    &gt;&gt;&gt; len([t for t in a.transactions if t.changed()])
    3
    &gt;&gt;&gt; for t in a.transactions:
    ...     print(t.report())
    0: increased 0&#x2d;&gt;100
    1: decreased 100&#x2d;&gt;70
    2: increased 70&#x2d;&gt;80
    3: no change
    &gt;&gt;&gt; b.withdraw(100)   # Transaction 2 for b
    &#x27;Insufficient funds&#x27;
    &gt;&gt;&gt; b.withdraw(30)    # Transaction 3 for b
    10
    &gt;&gt;&gt; for t in b.transactions:
    ...     print(t.report())
    0: increased 0&#x2d;&gt;50
    1: decreased 50&#x2d;&gt;40
    2: no change
    3: decreased 40&#x2d;&gt;10
    &quot;&quot;&quot;

    # *** YOU NEED TO MAKE CHANGES IN SEVERAL PLACES IN THIS CLASS ***
<div class="sol-highlight">    def next_id(self):
        # There are many ways to implement this counter, such as using an instance
        # attribute to track the next ID.
        return len(self.transactions)</div>
    def __init__(self, account_holder):
        self.balance = 0
        self.holder = account_holder
<div class="sol-highlight">        self.transactions = []</div>
    def deposit(self, amount):
        &quot;&quot;&quot;Increase the account balance by amount, add the deposit
        to the transaction history, and return the new balance.
        &quot;&quot;&quot;
<div class="sol-highlight">        self.transactions.append(Transaction(self.next_id(), self.balance, self.balance + amount))</div>        self.balance = self.balance + amount
        return self.balance

    def withdraw(self, amount):
        &quot;&quot;&quot;Decrease the account balance by amount, add the withdraw
        to the transaction history, and return the new balance.
        &quot;&quot;&quot;
        if amount &gt; self.balance:
<div class="sol-highlight">            self.transactions.append(Transaction(self.next_id(), self.balance, self.balance))</div>            return &#x27;Insufficient funds&#x27;
<div class="sol-highlight">        self.transactions.append(Transaction(self.next_id(), self.balance, self.balance &#x2d; amount))</div>        self.balance = self.balance &#x2d; amount
        return self.balance</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q Account<button id="copy-code-python3ok-qAccount" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qAccount").onclick = () => copyCode('python3 ok -q Account', "copy-code-python3ok-qAccount");
        </script>
        <br/>


<h3 id="q2-email">Q2: Email</h3>


<p>An email system has three classes: <code>Email</code>, <code>Server</code>, and <code>Client</code>. A <code>Client</code> can
<code>compose</code> an email, which it will <code>send</code> to the <code>Server</code>. The <code>Server</code> then delivers it to the
<code>inbox</code> of another <code>Client</code>. To achieve this, a <code>Server</code> has a dictionary called
<code>clients</code> that matches the <code>recipient_name</code> in an <code>Email</code> to the <code>Client</code> object
with that name.</p>

<p>Assume that a client never changes the server that it uses, and it only composes
emails using that server.</p>

<p>Fill in the definitions below to finish the implementation! The <code>Email</code> class
has been completed for you.</p>

<solution>

<pre><code>class Email:
    &quot;&quot;&quot;An email has the following instance attributes:

        msg (str): the contents of the message
        sender (Client): the client that sent the email
        recipient_name (str): the name of the recipient (another client)
    &quot;&quot;&quot;
    def __init__(self, msg, sender, recipient_name):
        self.msg = msg
        self.sender = sender
        self.recipient_name = recipient_name

class Server:
    &quot;&quot;&quot;Each Server has one instance attribute called clients that is a
    dictionary from client names to client objects.
    &quot;&quot;&quot;
    def __init__(self):
        self.clients = {}

    def send(self, email):
        &quot;&quot;&quot;Append the email to the inbox of the client it is addressed to.&quot;&quot;&quot;
<div class="sol-highlight">        self.clients[email.recipient_name].inbox.append(email)</div>
    def register_client(self, client):
        &quot;&quot;&quot;Add a client to the dictionary of clients.&quot;&quot;&quot;
<div class="sol-highlight">        self.clients[client.name] = client</div>
class Client:
    &quot;&quot;&quot;A client has a server, a name (str), and an inbox (list).

    &gt;&gt;&gt; s = Server()
    &gt;&gt;&gt; a = Client(s, &#x27;Alice&#x27;)
    &gt;&gt;&gt; b = Client(s, &#x27;Bob&#x27;)
    &gt;&gt;&gt; a.compose(&#x27;Hello, World!&#x27;, &#x27;Bob&#x27;)
    &gt;&gt;&gt; b.inbox[0].msg
    &#x27;Hello, World!&#x27;
    &gt;&gt;&gt; a.compose(&#x27;CS 61A Rocks!&#x27;, &#x27;Bob&#x27;)
    &gt;&gt;&gt; len(b.inbox)
    2
    &gt;&gt;&gt; b.inbox[1].msg
    &#x27;CS 61A Rocks!&#x27;
    &gt;&gt;&gt; b.inbox[1].sender.name
    &#x27;Alice&#x27;
    &quot;&quot;&quot;
    def __init__(self, server, name):
        self.inbox = []
        self.server = server
        self.name = name
<div class="sol-highlight">        server.register_client(self)</div>
    def compose(self, message, recipient_name):
        &quot;&quot;&quot;Send an email with the given message to the recipient.&quot;&quot;&quot;
<div class="sol-highlight">        email = Email(message, self, recipient_name)</div>        self.server.send(email)</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q Client<button id="copy-code-python3ok-qClient" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qClient").onclick = () => copyCode('python3 ok -q Client', "copy-code-python3ok-qClient");
        </script>
        <br/>


<h3 id="q3-make-change">Q3: Make Change</h3>


<p>Implement <code>make_change</code>, which takes a positive integer <code>amount</code> and a
dictionary of <code>coins</code>. The <code>coins</code> dictionary keys are positive integer
denominations and its values are positive integer coin counts. For example,
<code>{1: 4, 5: 2}</code> represents four pennies and two nickels. The <code>make_change</code>
function returns a list of coins that sum to <code>amount</code>, where the count of
any denomination <code>k</code> in the return value is at most <code>coins[k]</code>.</p>

<p>If there are multiple ways to make change for <code>amount</code>, prefer to use as many
of the smallest coins available and place the smallest coins first in the
returned list.</p>

<solution>

<pre><code>def make_change(amount, coins):
    &quot;&quot;&quot;Return a list of coins that sum to amount, preferring the smallest coins
    available and placing the smallest coins first in the returned list.

    The coins argument is a dictionary with keys that are positive integer
    denominations and values that are positive integer coin counts.

    &gt;&gt;&gt; make_change(2, {2: 1})
    [2]
    &gt;&gt;&gt; make_change(2, {1: 2, 2: 1})
    [1, 1]
    &gt;&gt;&gt; make_change(4, {1: 2, 2: 1})
    [1, 1, 2]
    &gt;&gt;&gt; make_change(4, {2: 1}) == None
    True

    &gt;&gt;&gt; coins = {2: 2, 3: 2, 4: 3, 5: 1}
    &gt;&gt;&gt; make_change(4, coins)
    [2, 2]
    &gt;&gt;&gt; make_change(8, coins)
    [2, 2, 4]
    &gt;&gt;&gt; make_change(25, coins)
    [2, 3, 3, 4, 4, 4, 5]
    &gt;&gt;&gt; coins[8] = 1
    &gt;&gt;&gt; make_change(25, coins)
    [2, 2, 4, 4, 5, 8]
    &quot;&quot;&quot;
    if not coins:
        return None
    smallest = min(coins)
    rest = remove_one(coins, smallest)
    if amount &lt; smallest:
        return None
<div class="sol-highlight">    elif amount == smallest:
        return [smallest]
    else:
        result = make_change(amount&#x2d;smallest, rest)
        if result:
            return [smallest] + result
        else:
            return make_change(amount, rest)</div></code></pre>

</solution>

<p>You should use the <code>remove_one</code> function in your implementation:</p>

<solution>

<pre><code>def remove_one(coins, coin):
    &quot;&quot;&quot;Remove one coin from a dictionary of coins. Return a new dictionary,
    leaving the original dictionary coins unchanged.

    &gt;&gt;&gt; coins = {2: 5, 3: 2, 6: 1}
    &gt;&gt;&gt; remove_one(coins, 2) == {2: 4, 3: 2, 6: 1}
    True
    &gt;&gt;&gt; remove_one(coins, 6) == {2: 5, 3: 2}
    True
    &gt;&gt;&gt; coins == {2: 5, 3: 2, 6: 1} # Unchanged
    True
    &quot;&quot;&quot;
    copy = dict(coins)
    count = copy.pop(coin) &#x2d; 1  # The coin denomination is removed
    if count:
        copy[coin] = count      # The coin denomination is added back
    return copy</code></pre>

</solution>

<blockquote><p>Hint: Try using the smallest coin to make change. If it turns out that there
is no way to make change using the smallest coin, then try making change
without the smallest coin.</p>

<p>Hint: The simplest solution does not involve defining any local functions,
but you can define additional functions if you wish.</p></blockquote>

<p>Definitely try to solve this without reading the walkthrough, but if you're
really stuck then read the walkthrough.</p>


        <button id='toggle-3' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Walkthrough<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-3">
The code for <code>make_change(amount, coins)</code> should do the following:

<ol>
  <li>Check if <code>amount == smallest</code>, in which case return a one-element list containing just <code>smallest</code>.</li>
  <li>Otherwise, call <code>make_change(amount&#x2d;smallest, rest)</code>, which returns either <code>None</code> or a list of numbers.</li>
  <li>If the call in Step 2 returned a list, then return a longer list that includes <code>smallest</code> at the front.</li>
  <li>If the call in Step 2 returned <code>None</code>, then there's no way to use the <code>smallest</code> coin, so just <code>make_change(amount, rest)</code>
  </div></li>
</ol>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q make_change<button id="copy-code-python3ok-qmake_change" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qmake_change").onclick = () => copyCode('python3 ok -q make_change', "copy-code-python3ok-qmake_change");
        </script>
        <br/>


<h3 id="q4-change-machine">Q4: Change Machine</h3>


<p>Complete the <code>change</code> method of the <code>ChangeMachine</code> class. A <code>ChangeMachine</code>
instance holds some <code>coins</code>, which are initially all pennies. The <code>change</code>
method takes a positive integer <code>coin</code>, adds that coin to its <code>coins</code>, and then
returns a list that sums to <code>coin</code>. The machine prefers to return as many of
the smallest coins available, ordered from smallest to largest. The coins
returned by <code>change</code> are removed from the machine's <code>coins</code>.</p>

<solution>

<pre><code>class ChangeMachine:
    &quot;&quot;&quot;A change machine holds a certain number of coins, initially all pennies.
    The change method adds a single coin of some denomination X and returns a
    list of coins that sums to X. The machine prefers to return the smallest
    coins available. The total value in the machine never changes, and it can
    always make change for any coin (perhaps by returning the coin passed in).

    The coins attribute is a dictionary with keys that are positive integer
    denominations and values that are positive integer coin counts.

    &gt;&gt;&gt; m = ChangeMachine(2)
    &gt;&gt;&gt; m.coins == {1: 2}
    True
    &gt;&gt;&gt; m.change(2)
    [1, 1]
    &gt;&gt;&gt; m.coins == {2: 1}
    True
    &gt;&gt;&gt; m.change(2)
    [2]
    &gt;&gt;&gt; m.coins == {2: 1}
    True
    &gt;&gt;&gt; m.change(3)
    [3]
    &gt;&gt;&gt; m.coins == {2: 1}
    True

    &gt;&gt;&gt; m = ChangeMachine(10) # 10 pennies
    &gt;&gt;&gt; m.coins == {1: 10}
    True
    &gt;&gt;&gt; m.change(5) # takes a nickel &amp; returns 5 pennies
    [1, 1, 1, 1, 1]
    &gt;&gt;&gt; m.coins == {1: 5, 5: 1} # 5 pennies &amp; a nickel remain
    True
    &gt;&gt;&gt; m.change(3)
    [1, 1, 1]
    &gt;&gt;&gt; m.coins == {1: 2, 3: 1, 5: 1}
    True
    &gt;&gt;&gt; m.change(2)
    [1, 1]
    &gt;&gt;&gt; m.change(2) # not enough 1&#x27;s remaining; return a 2
    [2]
    &gt;&gt;&gt; m.coins == {2: 1, 3: 1, 5: 1}
    True
    &gt;&gt;&gt; m.change(8) # cannot use the 2 to make 8, so use 3 &amp; 5
    [3, 5]
    &gt;&gt;&gt; m.coins == {2: 1, 8: 1}
    True
    &gt;&gt;&gt; m.change(1) # return the penny passed in (it&#x27;s the smallest)
    [1]
    &gt;&gt;&gt; m.change(9) # return the 9 passed in (no change possible)
    [9]
    &gt;&gt;&gt; m.coins == {2: 1, 8: 1}
    True
    &gt;&gt;&gt; m.change(10)
    [2, 8]
    &gt;&gt;&gt; m.coins == {10: 1}
    True

    &gt;&gt;&gt; m = ChangeMachine(9)
    &gt;&gt;&gt; [m.change(k) for k in [2, 2, 3]]
    [[1, 1], [1, 1], [1, 1, 1]]
    &gt;&gt;&gt; m.coins == {1: 2, 2: 2, 3: 1}
    True
    &gt;&gt;&gt; m.change(5) # Prefers [1, 1, 3] to [1, 2, 2] (more pennies)
    [1, 1, 3]
    &gt;&gt;&gt; m.change(7)
    [2, 5]
    &gt;&gt;&gt; m.coins == {2: 1, 7: 1}
    True
    &quot;&quot;&quot;
    def __init__(self, pennies):
        self.coins = {1: pennies}

    def change(self, coin):
        &quot;&quot;&quot;Return change for coin, removing the result from self.coins.&quot;&quot;&quot;
<div class="sol-highlight">        self.coins[coin] = 1 + self.coins.get(coin, 0)  # Put the coin in the machine
        result = make_change(coin, self.coins)
        for c in result:
            self.coins = remove_one(self.coins, c)
        return result</div></code></pre>

</solution>

<blockquote><p>Hint: Call the <code>make_change</code> function in order to compute the result of
<code>change</code>, but update <code>self.coins</code> before returning that result.</p></blockquote>

<p>Definitely try to solve this without reading the walkthrough, but if you're
really stuck then read the walkthrough.</p>


        <button id='toggle-4' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Walkthrough<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-4">
The code for <code>change(self, coin)</code> should do the following:

<ol>
  <li>Add the <code>coin</code> to the machine. This way, you can just make change and you'll always get some result, although it might just be that coin back. The simplest way is to <code>get</code> the count of that <code>coin</code> (defaulting to 0) and add 1 to it: <code>self.coins[coin] = 1 + self.coins.get(coin, 0)</code></li>
  <li>Call <code>make_change(coin, self.coins)</code> and assign the result to a name (such as <code>result</code>). You'll return this at the end.</li>
  <li>Before returning, reduce the count of each coin you are returning. One way is to repeatedly call <code>remove_one(self.coins, c)</code> for each coin <code>c</code> in the result of calling <code>make_change</code> in Step 2.</li>
  <li>Return the result of calling <code>make_change</code> in Step 2.
  </div></li>
</ol>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q ChangeMachine<button id="copy-code-python3ok-qChangeMachine" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qChangeMachine").onclick = () => copyCode('python3 ok -q ChangeMachine', "copy-code-python3ok-qChangeMachine");
        </script>
        <br/>


<h2 id="check-your-score-locally">Check Your Score Locally</h2>

<p>You can locally check your score on each question of this assignment by running</p>

<pre><code>python3 ok &#x2d;&#x2d;score</code></pre>

<p><strong>This does NOT submit the assignment!</strong> When you are satisfied with your score, submit the assignment to Gradescope to receive credit for it.</p>


<h2 id="submit">Submit</h2>


<p>Submit this assignment by uploading any files you've edited <strong>to the appropriate Gradescope assignment.</strong> <a href="../lab00.html#submit-with-gradescope">Lab 00</a> has detailed instructions.</p>

<p>In addition, all students who are <strong>not</strong> in the mega lab must complete this <a href="https://go.cs61a.org/lab-att">attendance form</a>. Submit this form each week, whether you attend lab or missed it for a good reason. The attendance form is not required for mega section students.</p>

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="index.html#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="index.html#object-oriented-programming">Object-Oriented Programming</a></li>
    <ul>
      <li><a href="index.html#q1-bank-account">Q1: Bank Account</a></li>
      <li><a href="index.html#q2-email">Q2: Email</a></li>
      <li><a href="index.html#q3-make-change">Q3: Make Change</a></li>
      <li><a href="index.html#q4-change-machine">Q4: Change Machine</a></li>
    </ul>
    <li><a href="index.html#check-your-score-locally">Check Your Score Locally</a></li>
    <li><a href="index.html#submit">Submit</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="../../index.html">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/weekly">Weekly Schedule</a></li>
            <li><a href="../../office-hours.html">Office Hours</a></li>
            <li><a href="../../staff.html">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="../../resources.html">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../articles/studying.html">Studying Guide</a></li>
            <li><a href="../../articles/debugging.html">Debugging Guide</a></li>
            <li><a href="../../articles/composition.html">Composition Guide</a></li>
            <li><a href="../../articles/pair-programming.html">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="../../articles/about.html">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="../../articles/about.html#assignments">Assignments</a></li>
            <li><a href="../../articles/about.html#exams">Exams</a></li>
            <li><a href="../../articles/about.html#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="../../assets/js/network_storage.js"></script>
    <script src="../../assets/js/storable.js"></script>
    <script src="../../assets/js/editor.js"></script>
    <script src="../../assets/js/copy-button.js"></script>
    <script src="../../assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>